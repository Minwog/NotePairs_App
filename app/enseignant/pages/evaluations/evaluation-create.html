<div id="page-wrapper">


    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Créer une évaluation</h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->

    <ul class="nav nav-pills" id="myTab">
        <!-- <ul class="nav nav-pills" id="myTab"> -->
        <li class="active"><a data-toggle="tab" data-target="#menu01">Étape 1/3</a></li>
        <li><a data-toggle="tab" data-target="#menu02">Étape 2/3</a></li>
        <li><a data-toggle="tab" data-target="#menu03">Étape 3/3</a></li>
    </ul>

    <div class="tab-content" id="myTabContent">


        <div id="menu01" class="tab-pane fade active in">

            <div class="row">
                <br><br>

                <!-- modified -->
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Cours
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div>
                                <div class="dropdown">
                                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                        <span class="hidden-xl">Liste des cours</span>
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                        <li ng-repeat="c in enseignant.cours track by $index"><a href="">{{c}}</a></li>
                                    </ul>
                                </div>
                            </div>
                            <br>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Mode d'évaluation
                        </div>

                        <!-- /.panel-heading -->
                        <div class="panel-body">

                            <input type="checkbox" name="groupe" ng-click="newEval.travail_individuel=true">&nbsp;Travail individuel&nbsp&nbsp&nbsp&nbsp</input>
                            <input type="checkbox" name="groupe" ng-click="newEval.travail_individuel=false">&nbsp;Travail de groupe&nbsp&nbsp&nbsp&nbsp</input>
                            <span ng-if="newEval.travail_individuel==false" >
                                <input type="checkbox" ng-click="newEval.correction_individuelle=false">&nbsp;Correction en groupe</input>
                            </span>
                            <p>
                                <p>
                                    <button class="btn btn-primary" data-toggle="modal" data-target="#modalEleves" ng-if="newEval.travail_individuel==true">Choisir une liste d'élèves</button>
                                    <button class="btn btn-primary" data-toggle="modal" data-target="#modalGroupes" ng-if="newEval.travail_individuel==false">Choisir une liste de groupes</button>
                                </p>
                            </p>
                            Date limite de rendu du devoir:
                            <input type="date" ng-model="newEval.date_rendu" />
                            <br> <br>
                            Date limite de rendu d'évaluation:
                            <input type="date" name="newEval.date_fin_correction" />

                            <br><br>

                            <script type="text/javascript">
                                $(document).ready(function(){
                                    $('[data-toggle="popover"]').popover({
                                        placement : 'top',
                                        trigger : 'hover'
                                    });
                                });
                            </script>

                            Type de rendu:
                            <input type="checkbox" name="rendu" ng-click="newEval.mode_eval='VOLEE'">&nbsp;A la volée <span class="glyphicon glyphicon-info-sign" data-toggle="popover" title="A la volée" data-content="L'élève peut corriger les copies des autres après avoir rendu la sienne."></span> &nbsp&nbsp </input>
                            <input type="checkbox" name="rendu"ng-click="newEval.mode_eval='ETAPE'">&nbsp;Par étape <span class="glyphicon glyphicon-info-sign" data-toggle="popover" title="Par étape" data-content="L'élève peut corriger les copies des autres uniquement après la date limite de rendu des copies."></span></input>
                        </div>
                    </div>
                    <!-- /.panel-body -->

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Attribution des évaluations
                        </div>

                        <!-- /.panel-heading -->
                        <div class="panel-body">

                            <p>
                                <button class="btn" data-toggle="modal" ng-if="newEval.correction_individuelle==true" data-target="#modalAttributionIndividuelle"> Voir l'attribution des copies </button>
                                <button class="btn" data-toggle="modal" ng-if="newEval.correction_individuelle==false" data-target="#modalAttributionGroupe"> Voir l'attribution des copies groupe</button>
                            </p>

                            <div class="btn-group">
                                <div class="dropdown">
                                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                        <span class="hidden-xl">2 évaluations par copies</span>
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu2" role="menu">
                                        <li ng-repeat="i in [2,3,4,5,6,7,8,9,10]"><a href="">{{i}} évaluations par élève</a></li>
                                    </ul>
                                </div>
                            </div>
                            <br> <br>
                            Auto-évaluation:
                            <input type="checkbox" name="auto" ng-click="newEval.autoevaluation=='NO'">&nbsp;Non&nbsp;</input>
                            <input type="checkbox" name="auto" ng-click="newEval.autoevaluation=='CHOICE'">&nbsp;Facultative&nbsp;</input>
                            <input type="checkbox" name="auto" ng-click="newEval.autoevaluation=='YES'">&nbsp;Obligatoire&nbsp;</input>
                            <br><br>
                            <input type="checkbox" ng-click="newEval.anonymat==true">&nbsp;Anonymat de l'élève évalué&nbsp</input>
                            <input type="checkbox" ng-click=""newEval.>&nbsp;Anonymat de l'élève évaluateur</input>

                        </div>
                    </div><!-- /.panel-body -->
                    <button id="menu2Button" type="submit" class="btn btn-primary pull-right" data-toggle="tab" data-target="#menu02">Etape suivante</button>
                </div>
                    <br>
                </div>

                <div id="modalAttributionIndividuelle" class="modal fade" role="dialog">
                    <div class="modal-dialog centered">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Voir l'attribution des copies</h4>
                        </div>
                        <div class="modal-body">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Élèves
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div>
                                        <div class="col-lg-12" style="margin-bottom: 10px">
                                            <div class="input-group">
                                                <input ng-show="!searchLabel" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">
                                                <input ng-if="searchLabel === 'Nom de l\'evaluateur'" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">
                                                <input ng-if="searchLabel === 'Prenom de l\'evaluateur'" type="text" class="form-control" aria-label="..." ng-model="searchBox.Prenom">
                                                <input ng-if="searchLabel === 'Nom de l\'eleve a corriger'" type="text" class="form-control" aria-label="..." ng-model="searchBox.ElevesACorriger.Nom">
                                                <input ng-if="searchLabel === 'Prenom de l\'eleve a corriger'" type="text" class="form-control" aria-label="..." ng-model="searchBox.ElevesACorriger.Prenom">
                                                <div class="input-group-btn">
                                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                                            aria-haspopup="true" aria-expanded="false">{{searchLabel || 'Nom de l\'evaluateur' }}  <span class="caret"></span></button>
                                                    <ul class="dropdown-menu dropdown-menu-right">
                                                        <li><a href="" ng-click="searchLabel = 'Nom de l\'evaluateur'; searchBox={}">Nom de l'évaluateur</a></li>
                                                        <li><a href="" ng-click="searchLabel = 'Prenom de l\'evaluateur'; searchBox={}">Prenom de l'évaluateur</a></li>
                                                        <li><a href="" ng-click="searchLabel = 'Nom de l\'eleve a corriger'; searchBox={}">Nom de l'élève évalué</a></li>
                                                        <li><a href="" ng-click="searchLabel = 'Prenom de l\'eleve a corriger'; searchBox={}">Prenom de l'élève évalué</a></li>
                                                    </ul>
                                                </div><!-- /btn-group -->
                                            </div><!-- /input-group -->
                                        </div><!-- /.col-lg-6 -->
                                    </div><!-- /.row -->
                                    <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example4">
                                        <thead>
                                        <tr class="">
                                            <th></th>
                                            <th>Nom <a ng-show="!nomup" href="" ng-click="myOrderBy='Nom'; nomup=true">
                                                <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                                <a ng-show="nomup" href="" ng-click="myOrderBy='-Nom'; nomup=false">
                                                    <span class="glyphicon glyphicon-triangle-top"></span>
                                                </a>
                                            </th>
                                            <th>Prenom <a ng-show="!prenomup" href="" ng-click="myOrderBy='Prenom'; prenomup=true">
                                                <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                                <a ng-show="prenomup" href="" ng-click="myOrderBy='-Prenom'; prenomup=false">
                                                    <span class="glyphicon glyphicon-triangle-top"></span>
                                                </a>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="infos" ng-repeat-start="eleve in ElevesList | filter:searchBox | orderBy:myOrderBy" ng-class-odd="'odd'" ng-class-even="'even'">
                                            <td>
                                                <button ng-if="eleve.expanded" ng-click="eleve.expanded = false" class="btn btn-success btn-circle-micro pull-right" ><i class="fa fa-angle-up"></i></button>
                                                <button ng-if="!eleve.expanded" ng-click="eleve.expanded = true" class="btn btn-success btn-circle-micro pull-right" ><i class="fa fa-angle-down"></i></button>
                                            </td>
                                            <td>
                                                {{eleve.Nom}}
                                            </td>
                                            <td>
                                                {{eleve.Prenom}}
                                            </td>
                                        </tr>
                                        <tr ng-if="eleve.expanded" ng-repeat-end="">
                                            <td colspan="99">
                                                Copies à corriger :
                                                <button type="button" class="btn btn-primary btn-circle-micro pull-right" data-toggle="modal" data-target="#{{eleve.id}}"><i class="fa fa-plus"></i>
                                                </button>
                                                <br>
                                                <div ng-repeat="eleve2 in eleve.ElevesACorriger">
                                                    <button type="button" class="btn btn-danger btn-circle-micro" ng-click="eleve.supprimer(eleve2)"><i class="fa fa-times"></i>
                                                    </button>
                                                    {{eleve2.Nom}}&nbsp;{{eleve2.Prenom}}
                                                </div>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- /.panel-body -->
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default btn-primary" data-dismiss="modal">Choisir l'attribution des copies </button>
                        </div>
                    </div>
                </div>

                <div id="modalAttributionGroupe" class="modal fade" role="dialog">
                    <div class="modal-dialog centered">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Voir l'attribution des copies</h4>
                        </div>
                        <div class="modal-body">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Élèves
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div>
                                        <div class="col-lg-12" style="margin-bottom: 10px">
                                            <div class="input-group">
                                                <input ng-show="!searchLabel" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">
                                                <input ng-if="searchLabel === 'Nom du groupe evaluateur'" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">
                                                <input ng-if="searchLabel === 'Nom d\'un eleve du groupe evaluateur'" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">
                                                <input ng-if="searchLabel === 'Prenom d\'un eleve du groupe evaluateur'" type="text" class="form-control" aria-label="..." ng-model="searchBox.Prenom">
                                                <input ng-if="searchLabel === 'Nom du groupe a corriger'" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">
                                                <input ng-if="searchLabel === 'Nom d\'un eleve du groupe a corriger'" type="text" class="form-control" aria-label="..." ng-model="searchBox.ElevesACorriger.Nom">
                                                <input ng-if="searchLabel === 'Prenom d\'un eleve du groupe a corriger'" type="text" class="form-control" aria-label="..." ng-model="searchBox.ElevesACorriger.Prenom">
                                                <div class="input-group-btn">
                                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                                            aria-haspopup="true" aria-expanded="false">{{searchLabel || 'Nom de l\'evaluateur' }}  <span class="caret"></span></button>
                                                    <ul class="dropdown-menu dropdown-menu-right">
                                                        <li><a href="" ng-click="searchLabel = 'Nom du groupe evaluateur'; searchBox={}">Nom du groupe évaluateur</a></li>
                                                        <li><a href="" ng-click="searchLabel = 'Nom d\'un eleve du groupe evaluateur'; searchBox={}">Nom d'un eleve du groupe évaluateur</a></li>
                                                        <li><a href="" ng-click="searchLabel = 'Prenom d\'un eleve du groupe evaluateur'; searchBox={}">Prenom d'un eleve du groupe évaluateur</a></li>
                                                        <li><a href="" ng-click="searchLabel = 'Nom du groupe a corriger'; searchBox={}">Nom d'un eleve du groupe évaluateur</a></li>
                                                        <li><a href="" ng-click="searchLabel = 'Nom d\'un eleve du groupe a corriger'; searchBox={}">Nom d'un eleve du groupe évalué</a></li>
                                                        <li><a href="" ng-click="searchLabel = 'Prenom d\'un eleve du groupe a corriger'; searchBox={}">Prenom d'un eleve du groupe évalué</a></li>
                                                    </ul>
                                                </div><!-- /btn-group -->
                                            </div><!-- /input-group -->
                                        </div><!-- /.col-lg-6 -->
                                    </div><!-- /.row -->
                                    <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example6">
                                        <thead>
                                        <tr class="">
                                            <th></th>
                                            <th>Nom <a ng-show="!nomup" href="" ng-click="myOrderBy='Nom'; nomup=true">
                                                <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                                <a ng-show="nomup" href="" ng-click="myOrderBy='-Nom'; nomup=false">
                                                    <span class="glyphicon glyphicon-triangle-top"></span>
                                                </a>
                                            </th>
                                            <th>Prenom <a ng-show="!prenomup" href="" ng-click="myOrderBy='Prenom'; prenomup=true">
                                                <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                                <a ng-show="prenomup" href="" ng-click="myOrderBy='-Prenom'; prenomup=false">
                                                    <span class="glyphicon glyphicon-triangle-top"></span>
                                                </a>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="infos" ng-repeat-start="groupe in GroupesList | filter:searchBox | orderBy:myOrderBy" ng-class-odd="'odd'" ng-class-even="'even'">
                                            <td>
                                                <button ng-if="groupe.expanded" ng-click="groupe.expanded = false" class="btn btn-success btn-circle-micro pull-right" ><i class="fa fa-angle-up"></i></button>
                                                <button ng-if="!groupe.expanded" ng-click="groupe.expanded = true" class="btn btn-success btn-circle-micro pull-right" ><i class="fa fa-angle-down"></i></button>
                                                &nbsp;{{groupe.nom}}
                                            </td>
                                            <td><input type="checkbox"></td>

                                        </tr>

                                        <tr ng-if="groupe.expanded" ng-repeat-end="">
                                            <td colspan="99">
                                                Élèves:
                                                <br>
                                                <div ng-repeat="eleve in groupe.eleves">
                                                    {{eleve.Nom}}&nbsp;{{eleve.Prenom}}
                                                </div>
                                                Copies à corriger:
                                                <br>
                                                <div ng-repeat="groupe2 in groupe.GroupesACorriger">
                                                    {{groupe.nom}}(
                                                    <span ng-repeat="eleve2 in groupe2.eleves">
                                                            {{eleve2.nom}}&nbsp;{{eleve2.prenom}},$nbsp;
                                                    </span>
                                                    )
                                                </div>
                                            </td>
                                        </tr>
                                        <tr ng-if="eleve.expanded" ng-repeat-end="">
                                            <td colspan="99">
                                                Copies à corriger :
                                                <button type="button" class="btn btn-primary btn-circle-micro pull-right" data-toggle="modal" data-target="#{{eleve.id}}"><i class="fa fa-plus"></i>
                                                </button>
                                                <br>
                                                <div ng-repeat="eleve2 in eleve.ElevesACorriger">
                                                    <button type="button" class="btn btn-danger btn-circle-micro" ng-click="eleve.supprimer(eleve2)"><i class="fa fa-times"></i>
                                                    </button>
                                                    {{eleve2.Nom}}&nbsp;{{eleve2.Prenom}}
                                                </div>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- /.panel-body -->
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default btn-primary" data-dismiss="modal">Choisir l'attribution des copies </button>
                        </div>
                    </div>
                </div>

                <div id="{{eleve.id}}" class="modal fade" role="dialog">
                    <div class="modal-dialog centered">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Ajouter des élèves à corriger pour {{eleve.Nom}}&nbsp;{{eleve.Prenom}}</h4>
                        </div>
                        <div class="modal-body">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Élèves
                                </div>
                                        <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div class="col-lg-6 pull-right" style="margin-bottom: 10px">
                                        <div class="input-group">
                                            <input ng-show="!searchLabel2" type="text" class="form-control" aria-label="..." ng-model="searchBox2.Nom">

                                            <input ng-if="searchLabel2 === 'Nom'" type="text" class="form-control" aria-label="..." ng-model="searchBox2.Nom">
                                            <input ng-if="searchLabel2 === 'Prenom'" type="text" class="form-control" aria-label="..." ng-model="searchBox2.Prenom">
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                                        aria-haspopup="true" aria-expanded="false">{{searchLabel2 || 'Nom' }}  <span class="caret"></span></button>
                                                <ul class="dropdown-menu dropdown-menu-right">
                                                    <li><a href="" ng-click="searchLabel2 = 'Nom'; searchBox2={}">Nom</a></li>
                                                    <li><a href="" ng-click="searchLabel2 = 'Prenom'; searchBox2={}">Prenom</a></li>
                                                </ul>
                                            </div><!-- /btn-group -->
                                        </div><!-- /input-group -->
                                    </div><!-- /.col-lg-6 -->
                                </div><!-- /.row -->


                                <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example5">
                                    <thead>
                                    <tr class="">
                                        <th>Nom <a ng-show="!nomup" href="" ng-click="myOrderBy='Nom'; nomup=true">
                                            <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                            <a ng-show="nomup" href="" ng-click="myOrderBy='-Nom'; nomup=false">
                                                <span class="glyphicon glyphicon-triangle-top"></span>
                                            </a>
                                        </th>
                                        <th>Prenom <a ng-show="!prenomup" href="" ng-click="myOrderBy='Prenom'; prenomup=true">
                                            <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                            <a ng-show="prenomup" href="" ng-click="myOrderBy='-Prenom'; prenomup=false">
                                                <span class="glyphicon glyphicon-triangle-top"></span>
                                            </a>
                                        </th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="infos" ng-repeat="eleve2 in ElevesList | filter:searchBox2 | orderBy:myOrderBy" ng-class-odd="'odd'" ng-class-even="'even'">
                                        <td>{{eleve2.Nom}}</td>
                                        <td>{{eleve2.Prenom}}</td>
                                        <td><input type="checkbox" ng-click="ElevesAAjouter.push(eleve2)"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default btn-primary" ng-click="eleve.ajouter(ElevesAAjouter)" data-dismiss="modal">Ajouter des élèves pour {{eleve.nom}}&nbsp;{{eleve.Prenom}}</button>
                        </div>
                    </div>

                </div>
        <!-- /.row -->


                <div id="modalEleves" class="modal fade" role="dialog">
                    <div class="modal-dialog centered">


                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Choisir les élèves pour l'évaluation</h4>
                        </div>
                        <div class="modal-body">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Élèves
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div class="col-lg-6 pull-right" style="margin-bottom: 10px">
                                        <div class="input-group">
                                            <input ng-show="!searchLabel" type="text" class="form-control" aria-label="..." ng-model="searchBox2.Nom">
                                            <input ng-if="searchLabel === 'Nom'" type="text" class="form-control" aria-label="..." ng-model="searchBox2.Nom">
                                            <input ng-if="searchLabel === 'Prenom'" type="text" class="form-control" aria-label="..." ng-model="searchBox2.Prenom">
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                                        aria-haspopup="true" aria-expanded="false">{{searchLabel || 'Nom' }}  <span class="caret"></span></button>
                                                <ul class="dropdown-menu dropdown-menu-right">
                                                    <li><a href="" ng-click="searchLabel = 'Nom'; searchBox2={}">Nom</a></li>
                                                    <li><a href="" ng-click="searchLabel = 'Prenom'; searchBox2={}">Prenom</a></li>
                                                </ul>
                                            </div><!-- /btn-group -->
                                        </div><!-- /input-group -->
                                    </div>

                                    <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                                        <thead>
                                        <tr class="">
                                            <th>Nom <a ng-show="!nomup" href="" ng-click="myOrderBy='Nom'; nomup=true">
                                                <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                                <a ng-show="nomup" href="" ng-click="myOrderBy='-Nom'; nomup=false">
                                                    <span class="glyphicon glyphicon-triangle-top"></span>
                                                </a>
                                            </th>
                                            <th>Prenom <a ng-show="!prenomup" href="" ng-click="myOrderBy='Prenom'; prenomup=true">
                                                <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                                <a ng-show="prenomup" href="" ng-click="myOrderBy='-Prenom'; prenomup=false">
                                                    <span class="glyphicon glyphicon-triangle-top"></span>
                                                </a>
                                            </th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="infos" ng-repeat="eleve in ElevesList | filter:searchBox2 | orderBy:myOrderBy" ng-class-odd="'odd'" ng-class-even="'even'">
                                            <td>{{eleve.Nom}}</td>
                                            <td>{{eleve.Prenom}}</td>
                                            <td><input type="checkbox"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- /.panel-body -->
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default btn-primary" data-dismiss="modal">Choisir les élèves </button>
                        </div>
                    </div>
                </div>

                <div id="modalGroupes" class="modal fade" role="dialog">
                    <div class="modal-dialog centered">

                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Choisir les groupes pour l'évaluation</h4>
                        </div>
                        <div class="modal-body">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Groupes
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div class="col-lg-6 pull-right" style="margin-bottom: 10px">
                                        <div class="input-group">
                                            <input ng-show="!searchLabel" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">
                                            <input ng-if="searchLabel === 'Nom'" type="text" class="form-control" aria-label="..." ng-model="searchBox.eleves.Nom">
                                            <input ng-if="searchLabel === 'Prenom'" type="text" class="form-control" aria-label="..." ng-model="searchBox.eleves.Prenom">
                                            <input ng-if="searchLabel === 'Groupe'" type="text" class="form-control" aria-label="..." ng-model="searchBox.nom">
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                                        aria-haspopup="true" aria-expanded="false">{{searchLabel || 'Nom' }}  <span class="caret"></span></button>
                                                <ul class="dropdown-menu dropdown-menu-right">
                                                    <li><a href="" ng-click="searchLabel = 'Nom'; searchBox={}">Nom d'élève</a></li>
                                                    <li><a href="" ng-click="searchLabel = 'Prenom'; searchBox={}">Prénom d'élève</a></li>
                                                    <li><a href="" ng-click="searchLabel = 'Groupe'; searchBox={}">Groupe</a></li>
                                                </ul>
                                            </div><!-- /btn-group -->
                                        </div><!-- /input-group -->
                                    </div><!-- /.col-lg-6 -->

                                    <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example2">
                                        <thead>
                                        <tr class="">
                                            <th>Groupe <a ng-show="!groupeup" href="" ng-click="myOrderBy='Groupe'; groupeup=true">
                                                <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                                <a ng-show="groupeup" href="" ng-click="myOrderBy='-Groupe'; groupeup=false">
                                                   <span class="glyphicon glyphicon-triangle-top"></span>
                                               </a>
                                            </th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="infos" ng-repeat-start="groupe in GroupesList | filter:searchBox | orderBy:myOrderBy" ng-class-odd="'odd'" ng-class-even="'even'">
                                                <td>
                                                    <button ng-if="groupe.expanded" ng-click="groupe.expanded = false" class="btn btn-success btn-circle-micro pull-right" ><i class="fa fa-angle-up"></i></button>
                                                    <button ng-if="!groupe.expanded" ng-click="groupe.expanded = true" class="btn btn-success btn-circle-micro pull-right" ><i class="fa fa-angle-down"></i></button>
                                                    &nbsp;{{groupe.nom}}
                                                </td>
                                                <td><input type="checkbox"></td>

                                            </tr>

                                            <tr ng-if="groupe.expanded" ng-repeat-end="">
                                                <td colspan="99">
                                                    Élèves:
                                                    <br>
                                                    <div ng-repeat="eleve in groupe.eleves">
                                                        {{eleve.Nom}}&nbsp;{{eleve.Prenom}}
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                        <!-- /.panel-body -->
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default btn-primary" data-dismiss="modal">Choisir les groupes </button>
                        </div>
                    </div>
                </div>
            </div>


        <div id="menu02" class="tab-pane fade">


            <div class="row">
                <br><br>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        Mon évaluation
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <div ng-repeat="section in sectionList | orderBy : 'ordre'">


                                <div class="panel-heading">
                                    {{section.ordre+"- "+section.titre}}
                                    <a class="btn btn-danger btn-circle-micro pull-right" data-toggle="modal" data-target="#modalDeleteSection"><i class="fa fa-times"></i>
                                    </a>
                                    <a class="btn btn-primary btn-circle-micro pull-right" href="javascript:$('#myModal .modal-body').load('remote.html',function(e){$('#myModal').modal('show');});"><i class="fa fa-list"></i>
                                    </a>
                                    <a class="btn btn-success btn-circle-micro pull-right" ng-click="sectionUp(section.ordre, sectionList)"><i class="fa fa-angle-up"></i>
                                    </a>
                                    <a class="btn btn-success btn-circle-micro pull-right" ng-click="sectionDown(section.ordre, sectionList)"><i class="fa fa-angle-down"></i>
                                    </a>
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <h4>Type de rendu : </h4>{{section.type_rendu}} &nbsp;{{section.extension}}
                                    <br><br>
                                    <h4>Contenu:</h4>
                                    {{section.enonce}}
                                    <br><br>
                                    <h4>Critères d'évaluation:</h4>
                                    <div class="table-responsive">
                                        <table id="table" class="table table-striped table-bordered table-hover">
                                            <thead>
                                            <tr><th></th><th>Critère</th><th></th></tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat-start="critere in section.criteres | orderBy : 'ordre'">
                                                <td>
                                                    <button class="btn btn-primary btn-circle-micro" ng-if="critere.expanded" ng-click="critere.expanded = false"><i class="fa fa-arrow-up" aria-hidden="true"></i></button>
                                                    <button class="btn btn-primary btn-circle-micro" ng-if="!critere.expanded" ng-click="critere.expanded = true"><i class="fa fa-arrow-down" aria-hidden="true"></i></button>
                                                </td>
                                                <td>Critère n°{{critere.ordre}}: {{critere.type}}</td>
                                                <td>
                                                    <a class="btn btn-success btn-circle-nano pull-right" ng-click="sectionUp(critere.ordre, section.criteres)"><i class="fa fa-angle-up"></i></a>
                                                    <a class="btn btn-success btn-circle-nano pull-right" ng-click="sectionDown(critere.ordre, section.criteres)"><i class="fa fa-angle-down"></i></a>
                                                </td>
                                            </tr>

                                            <tr ng-if="critere.expanded" ng-repeat-end="">
                                                <td colspan="99">
                                                    <p>Description: {{critere.description}}</p>
                                                    <p ng-show="critere.type!='commentaire'">Nombre de points: {{critere.points}}</p>
                                                    <p ng-show="critere.type=='jugement'">Précision : {{critere.precision}}</p>
                                                    <p>
                                                    <div class="panel panel-default" ng-controller="HighChartsController">
                                                        <div class="panel-heading">
                                                            Trapèze des notes
                                                        </div>
                                                        <!-- /.panel-heading -->
                                                        <div class="panel-body">
                                                            <a ng-init="chart(critere.id)"></a>

                                                            <div id="container" style="height: 400px"></div>
                                                            <div id="drag"></div>
                                                            <div id="drop"></div>
                                                            <button type="submit" class="btn btn-primary pull-right" ng-click="save(critere.id)">Enregister</button>
                                                        </div>
                                                    </div>
                                                    </p>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <br><br>
                                    <button class="btn btn-primary" data-toggle="modal" data-target="#{{section.id}}">Ajouter un critère d'évaluation</button>
                                    </div>



                                    <div id="{{section.id}}" class="modal fade" role="dialog">
                                        <div class="modal-dialog centered">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                <h4 class="modal-title">Ajouter un critère d'évaluation</h4>
                                            </div>
                                            <div class="modal-body">

                                                <div class="dropdown">
                                                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdown-menu"
                                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                        <span ng-if="!newCritere.type" class="hidden-xl">Type de critère</span>
                                                        <span ng-if="newCritere.type" class="hidden-xl">{{newCritere.type}}</span>
                                                        <span class="caret"></span>
                                                    </button>
                                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1" role="menu">
                                                        <li>
                                                            <a href="" id="commentaire" ng-click="setCritereType(1); newCritere.type='commentaire'">Commentaire</a>
                                                        </li>
                                                        <li>
                                                            <a href="" id="condition" ng-click="setCritereType(2); newCritere.type='condition'">Condition</a>
                                                        </li>
                                                        <li>
                                                            <a href="" id="jugement" ng-click="setCritereType(3); newCritere.type='jugement'">Jugement</a>
                                                        </li>
                                                    </ul>
                                                </div>

                                                <div ng-show="critere==1">
                                                    <br>
                                                    Condition : <textarea ng-model=newCritere.description type="text" placeholder="Condition" />
                                                    <br><br>
                                                </div>

                                                <div ng-show="critere==2">
                                                    <br>
                                                    Condition : <textarea ng-model=newCritere.description type="text" placeholder="Condition" />
                                                    <br><br>
                                                    Nombre de points: <input type="number" ng-model=newCritere.points_max step="0.1" min="0" max="{{section.points}}"/>
                                                </div>

                                                <div ng-show="critere==3">
                                                    <br>
                                                    Description : <textarea ng-model=newCritere.description placeholder="Description" />
                                                    <br><br>
                                                    Nombre de points: <input ng-model=newCritere.points type="number" step="0.1" min="0" max="{{section.points}}"/>
                                                    <br>
                                                    Précision: <input ng-model=newCritere.precision type="number" step="0.01" min="0" max="1"/>
                                                </div>

                                            </div>
                                            <div class="modal-footer">
                                                <button type="submit" class="btn btn-default" ng-click="addCritere(section)" data-dismiss="modal">Ajouter</button>
                                                <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-primary center-block" data-toggle="modal" data-target="#myModal">Ajouter une section</button>
                        <!-- /.panel-body -->

                    <button type="submit" class="btn btn-primary pull-right" data-toggle="tab" data-target="#menu03">Etape suivante</button>
                    </div>

                </div>
                <!-- Modal content-->
                <div id="myModal" class="modal fade" role="dialog">
                    <div class="modal-dialog centered">

                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" ng-show="newSection.titre==null">Ajouter une section</h4>
                        <h4 class="modal-title" ng-hide="newSection.titre==''">{{newSection.titre}}</h4>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <input type="text"class="form-control" ng-model=newSection.titre id="titre" placeholder="Titre de la section"/>
                                <br>
                                <div class="btn-group">

                                    <div class="dropdown">
                                        <button class="btn btn-default dropdown-toggle" type="button" id="dropdown-menu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                            <span class="hidden-xl">Type de rendu</span>
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu" ng-model="newSection.type_rendu" aria-labelledby="dropdownMenu1" role="menu">
                                            <li>
                                                <a ng-click="setFile(false)" id="lien" href="">Lien</a>
                                            </li>
                                            <li>
                                                <a ng-click="setFile(true)" id="file" >Fichier</a>
                                            </li>
                                            <li>
                                                <a ng-click="setFile(false)" id="text" href="">Texte</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <br>
                                <div ng-show="file" class="dropdown">
                                    <div class="btn-group">
                                        <button class="btn btn-default dropdown-toggle" id="dropdown-menu2" type="button"
                                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                            <span class="hidden-xl">Extension de fichier</span>
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
                                            <li>
                                                <div ng-click="choisirExtension(false)" href="">Tous types de fichiers</div>
                                            </li>
                                            <li ng-repeat="e in extensions">
                                                <div href="">{{e}}</div>
                                            </li>
                                            <li>
                                                <div ng-click="choisirExtension(true)">Choisir une extension</div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <br>
                                <input ng-show="choixExtension" class="dropdown" type="texte" placeholder=".pdf">
                                </input>
                                <br>
                                Nombre de points pour la section:
                                <input type="number" step="0.1" min="0" ng-model="newSection.points"/>
                                <br><br>
                                Contenu de l'évaluation :
                                <input type="file" ng-model="newSection.enonce"/>
                            </div>
                            <br>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Mode de calcul de la note
                                </div>
                                <div class="panel-body">

                                    <input type="checkbox" name="calcul" id="moyenne">&nbsp;Moyenne des notes&nbsp;&nbsp;</input>
                                    <br>
                                    <input type="checkbox" name="calcul" id="mediane">&nbsp;Médiane des notes&nbsp;&nbsp;</input>
                                    <br><br>
                                    <input type="checkbox" name="calculPondere" id="ponderees">
                                    Evaluations pondérées
                                    <span class="glyphicon glyphicon-info-sign" data-toggle="popover" title="Evaluations pondérées" data-content="Poids selon la fiabilité de chaque évaluation."></span>&nbsp;&nbsp;&nbsp;
                                    </input>
                                    <br>
                                    <input type="checkbox" name="calculCalibre" id="calibrees">
                                    Evaluations calibrées
                                    <span class="glyphicon glyphicon-info-sign" data-toggle="popover" title="Evaluations calibrées" data-content="Modulées selon le biais estimé de l’évaluateur (sa « note de jugement » sur des devoirs précédents)."></span>&nbsp;&nbsp;</input>
                                    <br>
                                    <input type="checkbox" name="calculAuto" id="autoEval" ng-show="evaluation.autoEval!=0">
                                    Auto-évaluation prise en compte&nbsp;&nbsp;&nbsp;&nbsp;
                                    </input>

                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-default" data-dismiss="modal" ng-click="addSection()">Ajouter</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                        </div>
                    </div>
                </div>


        <div id="menu03" class="tab-pane fade">

            <title>Mode de calcul d'évaluation</title>
            <div class="row">
                <br><br>

                <div class="col-lg-12">

                    <script>
                        $('input[type="checkbox"]').on('change', function() {
                            $('input[name="' + this.name + '"]').not(this).prop('checked', false);
                        });
                    </script>

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Devoir de calibration
                        </div>
                        <div class="panel-body">
                            Ajouter un devoir de calibration (facultatif): <input type="file"/>
                            <br>
                            Objectif:
                            <br>
                            <input type="checkbox" name="calibration" id="information">&nbsp;Information&nbsp;&nbsp;</input>
                            <input type="checkbox" name="calibration" id="calibrage">&nbsp;Calibrage&nbsp;&nbsp;</input>
                            <input type="checkbox" name="calibration" id="entrainement">&nbsp;Entraînement&nbsp;&nbsp;</input>
                            <br><br>
                            <input type="checkbox" name="calibration" />&nbsp;Utilisation d'un devoir d'élève
                        </div>
                    </div>

                    <div class="panel panel-default" ng-show="evaluation.mode_attribution=='supervise'">
                        <div class="panel-heading">
                            Superviser l'attribution des copies
                        </div>
                        <div class="panel-body">
                            <button class="btn btn-primary center-block" data-toggle="modal" data-target="#modalSuperviserEleves">Choisir l'attribution des copies</button>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary pull-right" ng-click="createEval()">Créer l'évaluation</button>
                </div>
                </div>
            </div>

            <div id="modalSuperviserEleves" class="modal fade" role="dialog">
                <div class="modal-dialog centered">

                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Attribuer les évaluations aux élèves</h4>
                    <div class="modal-body">
                            <div class="col-lg-6 pull-right" style="margin-bottom: 10px">
                                <div class="input-group">
                                    <input ng-show="!searchLabel" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">

                                    <input ng-if="searchLabel === 'Nom'" type="text" class="form-control" aria-label="..." ng-model="searchBox.Nom">
                                    <input ng-if="searchLabel === 'Prenom'" type="text" class="form-control" aria-label="..." ng-model="searchBox.Prenom">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                                aria-haspopup="true" aria-expanded="false">{{searchLabel || 'Nom' }}  <span class="caret"></span></button>
                                        <ul class="dropdown-menu dropdown-menu-right">
                                            <li><a href="" ng-click="searchLabel = 'Nom'; searchBox={}">Nom</a></li>
                                            <li><a href="" ng-click="searchLabel = 'Prenom'; searchBox={}">Prenom</a></li>
                                        </ul>
                                    </div><!-- /btn-group -->
                                </div><!-- /input-group -->
                            </div><!-- /.col-lg-6 -->
                        </div><!-- /.row -->


                        <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example3">
                            <thead>
                            <tr class="">
                                <th>Nom <a ng-show="!nomup" href="" ng-click="myOrderBy='Nom'; nomup=true">
                                    <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                    <a ng-show="nomup" href="" ng-click="myOrderBy='-Nom'; nomup=false">
                                        <span class="glyphicon glyphicon-triangle-top"></span>
                                    </a>
                                </th>
                                <th>Prenom <a ng-show="!prenomup" href="" ng-click="myOrderBy='Prenom'; prenomup=true">
                                    <span class="glyphicon glyphicon-triangle-bottom"></span></a>
                                    <a ng-show="prenomup" href="" ng-click="myOrderBy='-Prenom'; prenomup=false">
                                        <span class="glyphicon glyphicon-triangle-top"></span>
                                    </a>
                                </th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="infos" ng-repeat="eleve in ElevesList | filter:searchBox | orderBy:myOrderBy" ng-class-odd="'odd'" ng-class-even="'even'">
                                <td>{{eleve.Nom}}</td>
                                <td>{{eleve.Prenom}}</td>
                                <td><input type="checkbox"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-default" data-dismiss="modal" ng-click="addSection()">Ajouter</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>